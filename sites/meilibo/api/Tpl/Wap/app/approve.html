<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <meta http-equiv="X-UA-Compatible"content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <title>实名认证</title>
  <style type="text/css">
html, body, div,section, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, dd, dl, dt, li, ol, ul,input,select,button,textarea { padding:0; margin:0; border:none;}
input,button,select,textarea,a,img{outline:none; text-decoration:none;color:#333;}/*去掉超链接或按钮点击时出现的虚线框黄色边框*/
::-moz-focus-inner{border:0px;}/*火狐的私有属性去掉点击时边框*/
body {font-size:10px; font-family:"Microsoft YaHei","Arial", "SimSun";}
html,body{ width:100%;height:100%;}
a img { border:none;}
ul, ul li, ol li, li {  list-style:none;}
table { border-collapse: collapse;border-spacing:0;}
input, textarea {border: 0;vertical-align: middle;}
.clearfix:after {visibility: hidden;display: block;font-size: 0;content: ".";clear: both;height: 0;}
* html .clearfix {zoom: 1;}
*:first-child + html .clearfix {zoom: 1;}
.fl { float:left;}
.fr { float:right;}
.none{  display:none;}

html {font-size:10px}
@media screen and (min-width:480px) and (max-width:639px) {
    html {
        font-size: 15px
    }}
@media screen and (min-width:640px) and (max-width:719px) {
    html {
        font-size: 20px
    }}
@media screen and (min-width:720px) and (max-width:749px) {
    html {
        font-size: 22.5px
    }}
@media screen and (min-width:750px) and (max-width:799px) {
    html {
        font-size: 23.5px
    }}
@media screen and (min-width:800px) and (max-width:959px) {
    html {
        font-size: 25px
    }}
@media screen and (min-width:960px) and (max-width:1079px) {
  html {
        font-size: 30px
    }}
@media screen and (min-width:1080px) {
    html {
        font-size: 32px
    }}
/*#form{border-top:1px solid #c6c6c8;}*/
.formsection{padding:3px 0 30px;}
.form_list{background-color:#fff;padding-top:15px;padding-bottom:30px;}
.form_list li{padding-left:70px;}
.form_list li .label{height:60px;border-bottom:1px solid #c6c6c8;}
.form_list li input{width:100%;line-height:60px;font-size:1.5rem;text-indent:10px;}
.form_list li:nth-child(1){background:url(__PUBLIC__/app/images/approve/name.png) no-repeat 1rem center;background-size:45px 45px;}
.form_list li:nth-child(2){background:url(__PUBLIC__/app/images/approve/tel.png) no-repeat 1rem center;background-size:45px 45px;}
.form_list li:nth-child(3){background:url(__PUBLIC__/app/images/approve/code.png) no-repeat 1rem center;background-size:45px 45px;}
.form_list li:nth-child(4){background:url(__PUBLIC__/app/images/approve/diao.png) no-repeat 1rem center;background-size:45px 45px;}
.form_list li:nth-child(5){background:url(__PUBLIC__/app/images/approve/id.png) no-repeat 1rem center;background-size:45px 45px;}
.form_list li:nth-child(6),.form_list li:nth-child(7){background:url(__PUBLIC__/app/images/approve/pic.png) no-repeat 1rem center;background-size:45px 45px;}

.upfile{position:relative;padding:5px 0;}
.upfileimg{display:block;float: left;margin-top:40px;}
.upfile input.addimg{position:absolute;bottom:7px;left:0px;opacity:0;width:60px;height:63px;}
.listpic{display:block;float:left;max-width:150px;overflow:hidden;height:100px;}
/*#list span{display:block;float: left;width:75px;height:100px;}*/
.listpic img{margin:0 5px;width:100px;height:100px;}
.upfileintro{font-size:1.5rem;color:#b1aaaa;}
.tstar{width:80px;height:30px;margin-top:70px;}
.sendlabel{position:relative;}
.sendlabel .sendcode{position:absolute;top:15px;right:10px;width:100px;height:30px;line-height:30px;text-indent:0;cursor:pointer;background:#5f9500;text-align:center;border-radius:5px;color:#fff;font-size:14px;}

.submitart{width:60%;height:40px;margin:0 auto;padding:30px 0;}
.submit_button{width:100%;height:40px;border-radius:20px;box-shadow:0 2px 3px #000;background:#f953a5;color:#fff;font-size:18px;}

.explain li{padding:5px 20px;color:#666;font-size:1.5rem;}
.desc_list{position:absolute;top:0;left:0;z-index:1;width:100%;height:100%;display:none;}
.desc_list .ul{width:80%;margin:50px auto 0;background:#fff;box-shadow:0 0 20px #666;}
.desc_list .ul p{position:relative;height:70px;padding-left:20px;font-size:1.5rem;line-height:70px;border-bottom:1px solid #eee;}
.desc_list .ul p span{display:block;position:absolute;top:27px;right:10px;width:10px;height:10px;padding:5px;border-radius:50%;border:2px solid #555;}
.desc_list .ul p i{display:block;width:10px;height:10px;border-radius:50%;}
.desc_list .ul p.active span{border-color:#619c60;}
.desc_list .ul p.active i{background:#619c60;}

  @font-face {
  font-family: 'iconfont';
  src: url('http://at.alicdn.com/t/font_1468808748_0652251.eot'); /* IE9*/
  src: url('http://at.alicdn.com/t/font_1468808748_0652251.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
  url('http://at.alicdn.com/t/font_1468808748_0652251.woff') format('woff'), /* chrome、firefox */
  url('http://at.alicdn.com/t/font_1468808748_0652251.ttf') format('truetype'), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/
  url('http://at.alicdn.com/t/font_1468808748_0652251.svg#iconfont') format('svg'); /* iOS 4.1- */
}
  .iconfont{font-family:"iconfont";font-size:16px;font-style:normal;display:none;}
  .iconbtn{animation:circle 1s infinite linear;-webkit-animation:circle 1s infinite linear;-moz-animation:circle 1s infinite linear;display:inline-block;}
  @keyframes circle{
  0%{ transform:rotate(0deg); }
  100%{ transform:rotate(360deg); }
  }
  @-webkit-keyframes circle{
  0%{ transform:rotate(0deg); }
  100%{ transform:rotate(360deg); }
  }
  @-moz-keyframes circle{
  0%{ transform:rotate(0deg); }
  100%{ transform:rotate(360deg); }
  }
  
.loader{display:none;}
.show{display:inline-block;}
.ball-pulse > div:nth-child(0) {
  -webkit-animation: scale 0.75s 0s infinite cubic-bezier(.2, .68, .18, 1.08);
          animation: scale 0.75s 0s infinite cubic-bezier(.2, .68, .18, 1.08); }
.ball-pulse > div:nth-child(1) {
  -webkit-animation: scale 0.75s 0.12s infinite cubic-bezier(.2, .68, .18, 1.08);
          animation: scale 0.75s 0.12s infinite cubic-bezier(.2, .68, .18, 1.08); }
.ball-pulse > div:nth-child(2) {
  -webkit-animation: scale 0.75s 0.24s infinite cubic-bezier(.2, .68, .18, 1.08);
          animation: scale 0.75s 0.24s infinite cubic-bezier(.2, .68, .18, 1.08); }
.ball-pulse > div:nth-child(3) {
  -webkit-animation: scale 0.75s 0.36s infinite cubic-bezier(.2, .68, .18, 1.08);
          animation: scale 0.75s 0.36s infinite cubic-bezier(.2, .68, .18, 1.08); }
.ball-pulse > div {
  background-color: #fff;
  width: 10px;
  height: 10px;
  border-radius: 100%;
  -webkit-animation-fill-mode: both;
          animation-fill-mode: both;
  display: inline-block; }
  @-webkit-keyframes scale {
  0% {
    -webkit-transform: scale(1);
            transform: scale(1);
    opacity: 1; }

  45% {
    -webkit-transform: scale(0.1);
            transform: scale(0.1);
    opacity: 0.7; }

  80% {
    -webkit-transform: scale(1);
            transform: scale(1);
    opacity: 1; } }
@keyframes scale {
  0% {
    -webkit-transform: scale(1);
            transform: scale(1);
    opacity: 1; }

  45% {
    -webkit-transform: scale(0.1);
            transform: scale(0.1);
    opacity: 0.7; }

  80% {
    -webkit-transform: scale(1);
            transform: scale(1);
    opacity: 1; } }
  </style>
 </head>



 <body style="background:#eeeff3;">
<section class="formsection">
    <form action="__URL__/approveCheck" method="post" id="form" enctype="multipart/form-data" name="form" >
      <article>
        <input type="hidden" name="uid" value="{$uid}" />
        <ul class="form_list">
          <li><div class="label"><input type="text" name="name" id="username" placeholder="真实姓名" required="true" required="true"/></div></li>
          <li><div class="label"><input id="private_phone" name="phone" pattern="^1[3|4|5|8]\d{9}$" required="required" type="text" placeholder="手机号码" id="tel"/></div></li>
          <li>
            <div class="label">
              <input type="text" name="sid" id="description" placeholder="认证类型" readonly="readonly" />
              <div class="desc_list">
                <div class="ul">
                <volist name="approveList" id="vo">
                  <p>{$vo['sortname']}<span><i></i></span></p>
                </volist>
                </div>
              </div>
            </div>
          </li>
          <li><div class="label"><input type="text" name="idcard" id="codeid" placeholder="身份证号" pattern="^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$" required="true"/></div></li>
          <li>
             <div class="upfile clearfix">
                 <span class="upfileimg"><img src="__PUBLIC__/app/images/approve/addimg.jpg" height="60"></span>
               <input type="file" id="files" class="addimg" name="authorpic" accept="image/*" onchange="previewImage(this, 'list1')" multiple required="true"/>
               <output id="list1" class="listpic"></output>
             </div>
             <p class="upfileintro">手持身份证</p>
          </li>
          <li>
             <div class="upfile clearfix">
                 <span class="upfileimg"><img src="__PUBLIC__/app/images/approve/addimg.jpg" height="60"></span>
               <input type="file" id="files" class="addimg" name="beforepic" accept="image/*" onchange="previewImage(this, 'list2')" multiple required="true"/>
               <output id="list2" class="listpic"></output>
             </div>
             <p class="upfileintro">身份证正面</p>
          </li>
        </ul>
        <article class="submitart">
        <button type="submit"  id="submit" class="submit_button" onclick="myCheck()"/>提交
        <div class="loader">
            <div class="loader-inner ball-pulse">
              <div></div>
              <div></div>
              <div></div>
            </div>
          </div>
          <button>
        </article>
      </article>
    </form>
    <article class="explain">
      <ul>
        <li>说明：</li>
        <li>1.请主播本人持身份证拍照</li>
        <li>2.保证照片清晰可见</li>
        <li>3.图片文件最大3M</li>
      </ul>
    </article>
</section>
  <script type="text/javascript" src="__PUBLIC__/js/jquery-1.7.2.min.js"></script>
  <script>
function myCheck()
      { 
         for(var i=0;i<document.getElementsByTagName("input").length;i++)
         {
          if(document.getElementsByTagName("input")[i].value=="")
          {
           document.getElementsByTagName("input")[i].focus();
           return false;
          }
         }
         $(".loader").addClass("show");
         $(".submit_button").css("background","#c3bbbb");
          return true; 
      }
  function previewImage(file, prvid) {
    /* file：file控件
     * prvid: 图片预览容器
     */
    var tip = "Expect jpg or png or gif!"; // 设定提示信息
    var filters = {
        "jpeg"  : "/9j/4",
        "gif"   : "R0lGOD",
        "png"   : "iVBORw"
    }
    var prvbox = document.getElementById(prvid);
    prvbox.innerHTML = "";
    if (window.FileReader) { // html5方案
        for (var i=0, f; f = file.files[i]; i++) {
            var fr = new FileReader();
            fr.onload = function(e) {
                var src = e.target.result;
                if (!validateImg(src)) {
                    alert(tip)
                } else {
                    showPrvImg(src);
                }
            }
            fr.readAsDataURL(f);
        }
    } else { // 降级处理
        if ( !/\.jpg$|\.png$|\.gif$/i.test(file.value) ) {
            alert(tip);
        } else {
            showPrvImg(file.value);
        }
    }
 
    function validateImg(data) {
        var pos = data.indexOf(",") + 1;
        for (var e in filters) {
            if (data.indexOf(filters[e]) === pos) {
                return e;
            }
        }
        return null;
    }
 
    function showPrvImg(src) {
        var img = document.createElement("img");
        img.src = src;
        prvbox.appendChild(img);
    }
}
  var countdown=60; 
  function settime(val) { 
  if (countdown == 0) { 
  val.removeAttribute("disabled");    
  val.value="发送验证码"; 
  countdown = 60; 
  } else { 
  val.setAttribute("disabled", true); 
  val.value=countdown + " s"; 
  countdown--; 
  } 
  setTimeout(function() { 
  settime(val) 
  },1000) 
  } 
   
 $(".desc_list .ul p").click(function(){
    $(this).addClass("active").siblings().removeClass("active");
    var val = $(this).text();
    $("#description").val(val);
    $(this).parents(".desc_list").hide();
 })
$("#description").click(function(){
  $(".desc_list").show();
})
// $("#submit").click(function(){
//  $.ajax({
//    type:"POST",
//    url:$("#form").attr("action"),
//    success:function(data){
//      alert("提交成功");
//    }
//  })
// })
</script>
 </body>
</html>
